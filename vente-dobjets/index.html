<!DOCTYPE html>
<html lang="en">

<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>VENTE D'OBJETS</title>
     <style>
          body {
               margin: 0;
               background-color: gainsboro;
          }

          .title {
               position: fixed;
               z-index: 1;
               height: 100vh;
               width: 100vw;
               display: flex;
               flex-direction: column;
               justify-content: center;
               align-items: center;
          }

          .title img {
               height: 10vw;
               width: auto;
               max-height: 14vw;
          }

          .etagere {
               display: grid;
               grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          }

          .objects {
               width: 100%;
               height: 100%;
               object-fit: contain;
               z-index: 9;
               /* border: 1px solid red; */
               box-sizing: border-box;

               transition: all .8s ease-in-out;
          }

          .objects:hover {
               background-color: #ffffff8b;
               transition: all .8s ease-in-out;
               cursor: pointer;
          }

          video {
               position: fixed;
               z-index: 0;
               height: 100vh;
               width: 100vw;
               top: 0;
               background-color: black;
               object-fit: cover;
          }
     </style>
</head>

<body>

     <div class="title">
          <img src="full-vente.svg" alt="" style="margin-bottom: 1rem;">
          <img src="full-objets.svg" alt="">
     </div>

     <div class="etagere">
          <img src="media/banco.png" alt="" class="objects" id="banco">
          <img src="media/silla.png" alt="" class="objects" id="silla">
          <img src="media/rangements.png" alt="" class="objects" id="rangements">
          <img src="media/yogurtera.png" alt="" class="objects" id="yogurtera">
          <img src="media/tripode.png" alt="" class="objects" id="tripode">
     </div>

     <video autoplay id="video"></video>

     </div>
     <script>
          if ('mediaDevices' in navigator && 'getUserMedia' in navigator.mediaDevices) {
               // ok, browser supports it
          }
          const constraints = {
               video: {
                    facingMode: "environment"
               },
          }

          var video = document.getElementById("video"),
               vendorURL = window.URL || window.webkitURL;

          if (navigator.mediaDevices.getUserMedia) {
               navigator.mediaDevices.getUserMedia(constraints)
                    .then(function (stream) {
                         video.srcObject = stream;
                    }).catch(function (error) {
                         console.log("Something went wrong");
                    });
          }




          var MAX_IMAGE_WIDTH = 200; // repalce magic number with const
          var MAX_IMAGE_HEIGHT = 150;   // repalce magic number with const
          var docWidth = document.body.clientWidth;  //replace $(document).width()
          var docHeight = document.body.clientHeight || 500;  //Note: document.body.clientHeight returns 0 in this envorment, in browser will be actaul height, setting defalult value of 500  
          // prevent negitve values that could place your image off screen
          var maxWidth = Math.max(0, docWidth - MAX_IMAGE_WIDTH);
          var maxHeight = Math.max(0, docHeight - MAX_IMAGE_HEIGHT);

          var image = [ //set innital values and prevent variable hoisiting 
               "media/banco.png",
               "media/silla.png",
               "media/rangements.png",
               "media/yogurtera.png",
               "media/tripode.png",
          ];

          function getImage(src, top, left) {
               var imgElement = document.createElement("img");
               imgElement.classList.add("objects");
               imgElement.src = src;
               imgElement.style.top = top + 'px';
               imgElement.style.left = left + 'px';
               imgElement.style.position = 'absolute';

               return imgElement;
          }

          console.log(image)

          function start() {
               for (let i = 0, max = image.length; i < max; i++) {
                    var left_position = (Math.random() * maxWidth).toFixed();
                    //Assume you wanted height and not width
                    var top_position = (Math.random() * maxHeight).toFixed();
                    var imgEl = getImage(image[i], top_position, left_position);
                    document.body.appendChild(imgEl);
               }
          }

          // start()

     </script>

</body>

</html>